# ステップ1: App Engineの初期化

## 目的

App Engineを初期化することで、正しいサービスアカウントが自動的に作成され、Secret Managerへの権限付与が可能になります。

## 手順

### 1. App Engineページにアクセス

以下のURLをブラウザで開いてください：

```
https://console.cloud.google.com/appengine?project=singular-server-480006-s8
```

または：
1. [Google Cloud Console](https://console.cloud.google.com/) にアクセス
2. 画面上部のプロジェクト選択で「singular-server-480006-s8」を選択
3. 左メニューから「App Engine」をクリック

### 2. アプリケーションを作成

1. 「アプリケーションを作成」または「Create Application」ボタンをクリック

2. **リージョン**を選択：
   - **推奨**: `asia-northeast1`（東京）または `asia-northeast2`（大阪）
   - その他のリージョンでも動作しますが、レイテンシが高くなる可能性があります

3. 「作成」または「Create」ボタンをクリック

4. 初期化が開始されます
   - 通常、**3〜5分**かかります
   - 画面に進行状況が表示されます

5. 「アプリケーションが作成されました」または「Application created」と表示されれば完了 ✓

### 3. 完了の確認

初期化が完了すると、以下のような画面が表示されます：
- App Engineダッシュボード
- 「デプロイ」や「設定」などのメニューが表示される

## 次のステップ

App Engineの初期化が完了したら：

1. **サービスアカウントを確認**（ステップ2の準備）
   - URL: https://console.cloud.google.com/iam-admin/serviceaccounts?project=singular-server-480006-s8
   - サービスアカウントのメールアドレスを確認

2. **Secret Managerで権限を付与**（ステップ2）
   - 確認したサービスアカウントのメールアドレスを使用

## トラブルシューティング

### 「アプリケーションを作成」ボタンが表示されない

- プロジェクトが正しく選択されているか確認
- App Engine Admin APIが有効になっているか確認
- 請求先アカウントがリンクされているか確認

### 初期化が失敗する

- エラーメッセージを確認
- 請求先アカウントが有効か確認
- プロジェクトのクォータを確認

### 時間がかかりすぎる

- 通常3〜5分ですが、ネットワーク状況によっては10分以上かかる場合があります
- ブラウザを更新して、進行状況を確認してください

## 注意事項

- App Engineの初期化は**一度だけ**必要です
- 初期化後、サービスアカウントが自動的に作成されます
- このサービスアカウントは、App Engineアプリケーションが使用します



# Gemini API繧ｭ繝ｼ縺ｮ譛邨ら噪縺ｪ隗｣豎ｺ譁ｹ豕・

## 迴ｾ蝨ｨ縺ｮ繧ｨ繝ｩ繝ｼ

```
HTTP 403: Your API key was reported as leaked. Please use another API key.
```

## 蝠城｡後・蜴溷屏

Secret Manager縺ｫ菫晏ｭ倥＆繧後※縺・ｋ縺吶∋縺ｦ縺ｮGemini API繧ｭ繝ｼ縺後・*貍乗ｴｩ縺励◆縺ｨ蝣ｱ蜻翫＆繧後※辟｡蜉ｹ**縺ｫ縺ｪ縺｣縺ｦ縺・∪縺吶・

- 繝舌・繧ｸ繝ｧ繝ｳ1: 辟｡蜉ｹ・域ｼ乗ｴｩ蝣ｱ蜻奇ｼ・
- 繝舌・繧ｸ繝ｧ繝ｳ2: 辟｡蜉ｹ・域ｼ乗ｴｩ蝣ｱ蜻奇ｼ・

## 隗｣豎ｺ譁ｹ豕・

### 譁ｰ縺励＞Gemini API繧ｭ繝ｼ繧貞叙蠕励＠縺ｦ霑ｽ蜉

#### 繧ｹ繝・ャ繝・: 譁ｰ縺励＞API繧ｭ繝ｼ繧貞叙蠕・

1. **Google AI Studio縺ｫ繧｢繧ｯ繧ｻ繧ｹ**
   ```
   https://aistudio.google.com/apikey
   ```

2. **繝ｭ繧ｰ繧､繝ｳ**・・oogle繧｢繧ｫ繧ｦ繝ｳ繝医〒・・

3. **譁ｰ縺励＞API繧ｭ繝ｼ繧剃ｽ懈・**
   - 縲靴reate API Key縲阪・繧ｿ繝ｳ繧偵け繝ｪ繝・け
   - 繝励Ο繧ｸ繧ｧ繧ｯ繝医ｒ驕ｸ謚橸ｼ・tamron-cloudrun-prod-new`・・
   - 譁ｰ縺励＞API繧ｭ繝ｼ縺瑚｡ｨ遉ｺ縺輔ｌ繧具ｼ・[REDACTED]...`縺ｧ蟋九∪繧具ｼ・
   - **縺薙・繧ｭ繝ｼ繧偵さ繝斐・**・亥ｾ後〒隕九ｉ繧後↑縺・・縺ｧ豕ｨ諢擾ｼ・

#### 繧ｹ繝・ャ繝・: Secret Manager縺ｫ霑ｽ蜉

PowerShell縺ｧ莉･荳九・繧ｳ繝槭Φ繝峨ｒ螳溯｡後＠縺ｦ縺上□縺輔＞・・

```powershell
echo "YOUR_NEW_GEMINI_API_KEY" | gcloud secrets versions add gemini-api-key --data-file=- --project=tamron-cloudrun-prod-new
```

**螳滄圀縺ｮ萓具ｼ・OUR_NEW_GEMINI_API_KEY縺ｮ驛ｨ蛻・ｒ螳滄圀縺ｮ繧ｭ繝ｼ縺ｫ鄂ｮ縺肴鋤縺医ｋ・会ｼ・*
```powershell
echo "[REDACTED]" | gcloud secrets versions add gemini-api-key --data-file=- --project=tamron-cloudrun-prod-new
```

#### 繧ｹ繝・ャ繝・: 遒ｺ隱・

霑ｽ蜉縺梧・蜉溘＠縺溘％縺ｨ繧堤｢ｺ隱搾ｼ・

```powershell
gcloud secrets versions list gemini-api-key --project=tamron-cloudrun-prod-new
```

譁ｰ縺励＞繝舌・繧ｸ繝ｧ繝ｳ・井ｾ具ｼ壹ヰ繝ｼ繧ｸ繝ｧ繝ｳ3・峨′陦ｨ遉ｺ縺輔ｌ繧後・謌仙粥縺ｧ縺吶・

#### 繧ｹ繝・ャ繝・: 繝・せ繝・

1. **謨ｰ遘貞ｾ・▽**・医ヰ繝・け繧ｨ繝ｳ繝峨・繧ｭ繝｣繝・す繝･縺梧峩譁ｰ縺輔ｌ繧九∪縺ｧ・・
2. **繝輔Ο繝ｳ繝医お繝ｳ繝峨°繧陰PI繧貞他縺ｳ蜃ｺ縺・*
   - `ai-drbfm.html`繧偵ヶ繝ｩ繧ｦ繧ｶ縺ｧ髢九￥
   - 繝輔ぃ繧､繝ｫ繧帝∈謚槭＠縺ｦAI蛻・梵繧貞ｮ溯｡・
3. **蜍穂ｽ懃｢ｺ隱・*
   - 繧ｨ繝ｩ繝ｼ縺瑚ｧ｣豸医＆繧後、I蛻・梵縺梧ｭ｣蟶ｸ縺ｫ蜍穂ｽ懊☆繧九％縺ｨ繧堤｢ｺ隱・

## 驥崎ｦ√↑豕ｨ諢丈ｺ矩・

### API繧ｭ繝ｼ縺ｮ繧ｻ繧ｭ繝･繝ｪ繝・ぅ

- 笨・**Secret Manager縺ｧ邂｡逅・*: API繧ｭ繝ｼ縺ｯSecret Manager縺ｧ螳牙・縺ｫ邂｡逅・＆繧後※縺・∪縺・
- 笶・**繧ｳ繝ｼ繝峨↓蜷ｫ繧√↑縺・*: API繧ｭ繝ｼ繧偵さ繝ｼ繝峨ｄ蜈ｬ髢九Μ繝昴ず繝医Μ縺ｫ蜷ｫ繧√↑縺・〒縺上□縺輔＞
- 笶・**繝輔Ο繝ｳ繝医お繝ｳ繝峨↓蝓九ａ霎ｼ縺ｾ縺ｪ縺・*: 繝輔Ο繝ｳ繝医お繝ｳ繝峨・繧ｳ繝ｼ繝峨↓API繧ｭ繝ｼ繧貞沂繧∬ｾｼ縺ｾ縺ｪ縺・〒縺上□縺輔＞・育樟蝨ｨ縺ｮ螳溯｣・〒縺ｯ繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI繧ｭ繝ｼ縺ｮ縺ｿ縺後ヵ繝ｭ繝ｳ繝医お繝ｳ繝峨↓險ｭ螳壹＆繧後※縺・∪縺吶′縲√％繧後・繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI縺ｸ縺ｮ繧｢繧ｯ繧ｻ繧ｹ逕ｨ縺ｧ縺呻ｼ・

### 迴ｾ蝨ｨ縺ｮ螳溯｣・

- **繝輔Ο繝ｳ繝医お繝ｳ繝・*: 繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI繧ｭ繝ｼ・・Lh8zeq73nXtaiMm5HSy4plGKNoxC9Qru`・峨ｒ菴ｿ逕ｨ縺励※繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI縺ｫ繧｢繧ｯ繧ｻ繧ｹ
- **繝舌ャ繧ｯ繧ｨ繝ｳ繝・*: Secret Manager縺九ｉGemini API繧ｭ繝ｼ繧貞叙蠕励＠縺ｦGemini API繧貞他縺ｳ蜃ｺ縺・

縺薙・螳溯｣・↓繧医ｊ縲；emini API繧ｭ繝ｼ縺ｯ繝輔Ο繝ｳ繝医お繝ｳ繝峨↓髴ｲ蜃ｺ縺帙★縲∝ｮ牙・縺ｫ邂｡逅・＆繧後※縺・∪縺吶・

## 迴ｾ蝨ｨ縺ｮ迥ｶ諷・

- 笨・**繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI**: 豁｣蟶ｸ縺ｫ蜍穂ｽ・
- 笨・**隱崎ｨｼ繝溘ラ繝ｫ繧ｦ繧ｧ繧｢**: 豁｣蟶ｸ縺ｫ蜍穂ｽ・
- 笨・**繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI繧ｭ繝ｼ**: 豁｣蟶ｸ
- 笶・**Gemini API繧ｭ繝ｼ**: 辟｡蜉ｹ・域眠縺励＞繧ｭ繝ｼ縺悟ｿ・ｦ・ｼ・

## 縺ｾ縺ｨ繧・

譁ｰ縺励＞Gemini API繧ｭ繝ｼ繧貞叙蠕励＠縺ｦ縲ヾecret Manager縺ｫ霑ｽ蜉縺吶ｌ縺ｰ縲∝撫鬘後・隗｣豎ｺ縺励∪縺吶・

譁ｰ縺励＞API繧ｭ繝ｼ繧貞叙蠕励＠縺溘ｉ縲∽ｸ願ｨ倥・繧ｹ繝・ャ繝・縺ｮ繧ｳ繝槭Φ繝峨ｒ螳溯｡後＠縺ｦ霑ｽ蜉縺励※縺上□縺輔＞縲・

# 繝輔Ο繝ｳ繝医お繝ｳ繝峨°繧陰PI繧貞他縺ｳ蜃ｺ縺吶ユ繧ｹ繝・

## 笨・繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI縺梧ｭ｣蟶ｸ縺ｫ蜍穂ｽ・

`{"繝｡繝・そ繝ｼ繧ｸ":"AI-DRBFM 蛻・梵繧ｵ繝ｼ繝舌・"}` 縺ｨ縺・≧繝ｬ繧ｹ繝昴Φ繧ｹ縺瑚ｿ斐▲縺ｦ縺阪∪縺励◆縲・

## 谺｡縺ｮ繧ｹ繝・ャ繝暦ｼ壹ヵ繝ｭ繝ｳ繝医お繝ｳ繝峨°繧陰PI繧貞他縺ｳ蜃ｺ縺・

### 1. 繝悶Λ繧ｦ繧ｶ縺ｧ`ai-drbfm.html`繧帝幕縺・

- 繝ｭ繝ｼ繧ｫ繝ｫ繝輔ぃ繧､繝ｫ縺ｨ縺励※髢九￥・・file://`繝励Ο繝医さ繝ｫ・・
- 縺ｾ縺溘・縲？TTP繧ｵ繝ｼ繝舌・縺ｧ謠蝉ｾ幢ｼ域耳螂ｨ・・

### 2. 繝悶Λ繧ｦ繧ｶ縺ｮ髢狗匱閠・ヤ繝ｼ繝ｫ繧帝幕縺・

- **F12**繧ｭ繝ｼ繧呈款縺・
- **繧ｳ繝ｳ繧ｽ繝ｼ繝ｫ**繧ｿ繝悶ｒ髢九￥
- **繝阪ャ繝医Ρ繝ｼ繧ｯ**繧ｿ繝悶ｒ髢九￥・・PI繝ｪ繧ｯ繧ｨ繧ｹ繝医ｒ遒ｺ隱阪☆繧九◆繧・ｼ・

### 3. 繝輔ぃ繧､繝ｫ繧帝∈謚槭＠縺ｦAI蛻・梵繧貞ｮ溯｡・

1. Excel繝輔ぃ繧､繝ｫ・・xlsx・峨ｒ驕ｸ謚・
2. 縲窟I蛻・梵繧貞ｮ溯｡後阪・繧ｿ繝ｳ繧偵け繝ｪ繝・け
3. 繧ｳ繝ｳ繧ｽ繝ｼ繝ｫ縺ｨ繝阪ャ繝医Ρ繝ｼ繧ｯ繧ｿ繝悶〒莉･荳九ｒ遒ｺ隱搾ｼ・
   - API繧ｭ繝ｼ縺梧ｭ｣縺励￥騾∽ｿ｡縺輔ｌ縺ｦ縺・ｋ縺・
   - 隱崎ｨｼ縺梧・蜉溘＠縺ｦ縺・ｋ縺・
   - Gemini API縺悟他縺ｳ蜃ｺ縺輔ｌ縺ｦ縺・ｋ縺・

### 4. 譛溷ｾ・＆繧後ｋ蜍穂ｽ・

- 笨・API繧ｭ繝ｼ縺瑚・蜍慕噪縺ｫ`X-API-Key`繝倥ャ繝繝ｼ縺ｫ霑ｽ蜉縺輔ｌ繧・
- 笨・繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI・・/api/gemini`・峨′蜻ｼ縺ｳ蜃ｺ縺輔ｌ繧・
- 笨・隱崎ｨｼ縺梧・蜉溘＠縲；emini API縺悟他縺ｳ蜃ｺ縺輔ｌ繧・
- 笨・AI蛻・梵邨先棡縺瑚｡ｨ遉ｺ縺輔ｌ繧・

### 5. 繝医Λ繝悶Ν繧ｷ繝･繝ｼ繝・ぅ繝ｳ繧ｰ

#### 繧ｨ繝ｩ繝ｼ: 401 Unauthorized
- **蜴溷屏**: API繧ｭ繝ｼ縺梧ｭ｣縺励￥騾∽ｿ｡縺輔ｌ縺ｦ縺・↑縺・√∪縺溘・API繧ｭ繝ｼ縺檎┌蜉ｹ
- **遒ｺ隱・*: 繝阪ャ繝医Ρ繝ｼ繧ｯ繧ｿ繝悶〒`X-API-Key`繝倥ャ繝繝ｼ繧堤｢ｺ隱・
- **隗｣豎ｺ**: `ai-drbfm.html`縺ｮ`window.BACKEND_API_KEY`縺梧ｭ｣縺励￥險ｭ螳壹＆繧後※縺・ｋ縺狗｢ｺ隱・

#### 繧ｨ繝ｩ繝ｼ: 403 Forbidden
- **蜴溷屏**: Cloud Run繧ｵ繝ｼ繝薙せ縺ｸ縺ｮ繧｢繧ｯ繧ｻ繧ｹ縺瑚ｨｱ蜿ｯ縺輔ｌ縺ｦ縺・↑縺・
- **遒ｺ隱・*: Cloud Run繧ｵ繝ｼ繝薙せ縺ｮIAM繝昴Μ繧ｷ繝ｼ繧堤｢ｺ隱・
- **隗｣豎ｺ**: `allUsers`縺ｫ`roles/run.invoker`繧剃ｻ倅ｸ趣ｼ・oogle Cloud Console縺九ｉ・・

#### 繧ｨ繝ｩ繝ｼ: CORS
- **蜴溷屏**: CORS險ｭ螳壹・蝠城｡・
- **遒ｺ隱・*: 繝舌ャ繧ｯ繧ｨ繝ｳ繝峨・CORS險ｭ螳壹ｒ遒ｺ隱・
- **隗｣豎ｺ**: `backend/server.js`縺ｧCORS縺梧怏蜉ｹ縺ｫ縺ｪ縺｣縺ｦ縺・ｋ縺狗｢ｺ隱・

#### 繧ｨ繝ｩ繝ｼ: Gemini API繧ｭ繝ｼ縺檎┌蜉ｹ
- **蜴溷屏**: Secret Manager縺ｫ菫晏ｭ倥＆繧後※縺・ｋGemini API繧ｭ繝ｼ縺檎┌蜉ｹ
- **遒ｺ隱・*: Secret Manager縺ｮ`gemini-api-key`繧堤｢ｺ隱・
- **隗｣豎ｺ**: 譁ｰ縺励＞Gemini API繧ｭ繝ｼ繧担ecret Manager縺ｫ霑ｽ蜉

## 迴ｾ蝨ｨ縺ｮ險ｭ螳・

- **繝舌ャ繧ｯ繧ｨ繝ｳ繝蔚RL**: `https://ai-drbfm-backend-43iql33sfa-an.a.run.app`
- **API繧ｭ繝ｼ**: `Lh8zeq73nXtaiMm5HSy4plGKNoxC9Qru`・・ai-drbfm.html`縺ｫ險ｭ螳壽ｸ医∩・・
- **隱崎ｨｼ**: API繧ｭ繝ｼ隱崎ｨｼ縺悟ｮ溯｣・ｸ医∩

## 縺ｾ縺ｨ繧・

繝舌ャ繧ｯ繧ｨ繝ｳ繝陰PI縺ｯ豁｣蟶ｸ縺ｫ蜍穂ｽ懊＠縺ｦ縺・∪縺吶・

谺｡縺ｯ縲√ヵ繝ｭ繝ｳ繝医お繝ｳ繝峨°繧陰PI繧貞他縺ｳ蜃ｺ縺励※縲∝ｮ悟・縺ｪ蜍穂ｽ懊ｒ遒ｺ隱阪＠縺ｦ縺上□縺輔＞縲・

蝠城｡後′縺ゅｌ縺ｰ縲√ヶ繝ｩ繧ｦ繧ｶ縺ｮ髢狗匱閠・ヤ繝ｼ繝ｫ・・12・峨・繧ｳ繝ｳ繧ｽ繝ｼ繝ｫ繧ｿ繝悶〒繧ｨ繝ｩ繝ｼ繝｡繝・そ繝ｼ繧ｸ繧堤｢ｺ隱阪＠縺ｦ縺上□縺輔＞縲・

# ビルドログの確認方法

## 現在の状況

デプロイが失敗し続けています。詳細なエラー情報を確認する必要があります。

## ビルドログの確認方法

### 方法1: Google Cloud Consoleで確認（推奨）

以下のURLで最新のビルドログを確認してください：

```
https://console.cloud.google.com/cloud-build/builds?project=singular-server-480006-s8
```

最新のビルド（失敗しているもの）をクリックして、詳細なエラーメッセージを確認してください。

特に以下の点を確認：
- ビルドのどのステップで失敗しているか
- エラーメッセージの全文
- 依存関係のインストールエラーがないか
- アプリケーションの起動エラーがないか

### 方法2: コマンドラインで確認

```powershell
gcloud builds log 65a3d294-a9c3-403b-b858-83e12ccf316f --project=singular-server-480006-s8 --region=asia-northeast1
```

## よくあるエラーの原因

1. **依存関係のエラー**
   - `package.json` の依存関係が正しくインストールできない
   - 解決方法: `npm install` をローカルで実行して確認

2. **アプリケーションの起動エラー**
   - `server.js` に構文エラーがある
   - 解決方法: ローカルで `node server.js` を実行して確認

3. **環境変数のエラー**
   - Secret ManagerからAPIキーを取得できない
   - 解決方法: 権限が正しく付与されているか確認

4. **リソースの不足**
   - メモリやCPUの制限
   - 解決方法: `app.yaml` でリソースを調整

## 次のステップ

1. **Google Cloud Consoleでビルドログを確認**
   - エラーの詳細を把握

2. **エラーメッセージを共有**
   - エラーの全文を共有していただければ、具体的な解決策を提案できます

3. **必要に応じて設定を調整**
   - エラーに応じて設定を修正

## 代替案

もしApp Engineでのデプロイが続けて失敗する場合は、以下の代替案も検討できます：

1. **Cloud Runに切り替え**
   - より柔軟な設定が可能
   - Dockerコンテナベース

2. **ローカルで動作確認**
   - まずローカルで動作することを確認してからデプロイ

3. **段階的なデプロイ**
   - 最小限のアプリケーションでデプロイを試す


# 管理者用: ユーザー登録方法

## 概要

ユーザーは管理者が事前に登録する必要があります。一般ユーザーはログインページから新規登録することはできません。

## ユーザー登録方法

### 方法1: コマンドラインスクリプトを使用（推奨）

サーバー上で以下のコマンドを実行します：

```bash
cd backend
node create-user.js <username> <password>
```

**例:**
```bash
node create-user.js admin password123
node create-user.js user1 mypassword456
```

### 方法2: 直接users.jsonを編集（上級者向け）

`backend/users.json`ファイルを直接編集します。ただし、パスワードはbcryptでハッシュ化する必要があります。

**注意**: この方法は推奨されません。パスワードのハッシュ化が正しく行われない可能性があります。

## ユーザーデータの保存場所

- **ファイル**: `backend/users.json`
- **形式**: JSON形式
- **構造**:
```json
{
  "username1": {
    "password": "$2b$10$hashed_password_here",
    "createdAt": "2024-01-14T01:00:00.000Z"
  },
  "username2": {
    "password": "$2b$10$hashed_password_here",
    "createdAt": "2024-01-14T02:00:00.000Z"
  }
}
```

## セキュリティ注意事項

1. **パスワード要件**: 6文字以上
2. **ファイルの保護**: `users.json`は機密情報を含むため、適切に保護してください
3. **Git管理**: `users.json`は`.gitignore`に追加されているため、Gitにはコミットされません

## トラブルシューティング

### ユーザーが既に存在する場合

```
エラー: ユーザー名が既に使用されています
```

→ 別のユーザー名を使用するか、既存ユーザーのパスワードをリセットしてください。

### パスワードが短すぎる場合

```
エラー: パスワードは6文字以上である必要があります
```

→ 6文字以上のパスワードを使用してください。
